# AIæ¥å£æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†æè¿°äº†Nexus AIå¹³å°ä¸­æ‰€æœ‰éœ€è¦AIæ¥å£çš„åŠŸèƒ½æ¨¡å—ï¼ŒåŒ…æ‹¬å…·ä½“çš„APIè®¾è®¡ã€è¯·æ±‚å“åº”æ ¼å¼ã€é”™è¯¯å¤„ç†æœºåˆ¶ç­‰ã€‚ä¸ºåç«¯å·¥ç¨‹å¸ˆæä¾›å®Œæ•´çš„AIæœåŠ¡å¼€å‘æŒ‡å—ã€‚

---

## ğŸ¯ AIåŠŸèƒ½æ¦‚è§ˆ

### æ ¸å¿ƒAIåŠŸèƒ½æ¨¡å—

| åŠŸèƒ½æ¨¡å— | AIæ¥å£éœ€æ±‚ | ä¼˜å…ˆçº§ | çŠ¶æ€ |
|---------|------------|--------|------|
| ğŸ“ ä»£ç ç”Ÿæˆå™¨ | æ–‡æœ¬ç”Ÿæˆã€ä»£ç è¡¥å…¨ | P0 | âœ… å·²å®ç° |
| ğŸ” ä»£ç åˆ†æå™¨ | ä»£ç è´¨é‡åˆ†æã€æ•ˆç‡è¯„åˆ† | P0 | âœ… å·²å®ç° |
| ğŸ“„ æ¨¡æ¿è§£æå™¨ | æ–‡æœ¬è§£æã€ç»“æ„åŒ–æå– | P1 | âœ… å·²å®ç° |
| ğŸ’¬ åé¦ˆæ‘˜è¦å™¨ | æ–‡æœ¬æ‘˜è¦ã€è§‚ç‚¹æå– | P1 | âœ… å·²å®ç° |
| âš¡ æ™ºèƒ½å¯¼å…¥ | å†…å®¹è¯†åˆ«ã€è‡ªåŠ¨åˆ†ç±» | P1 | ğŸš§ è§„åˆ’ä¸­ |
| ğŸ·ï¸ æ ‡ç­¾ç”Ÿæˆ | å†…å®¹åˆ†æã€å…³é”®è¯æå– | P2 | ğŸš§ è§„åˆ’ä¸­ |
| ğŸ¤– AIåŠ©æ‰‹ | å¯¹è¯äº¤äº’ã€ä¸Šä¸‹æ–‡ç†è§£ | P0 | âœ… å·²å®ç° |
| ğŸ“Š å­¦ä¹ è·¯å¾„ | ä¸ªæ€§åŒ–æ¨èã€è¿›åº¦åˆ†æ | P2 | ğŸš§ è§„åˆ’ä¸­ |

---

## ğŸ”§ AIæœåŠ¡æ¶æ„

### æœåŠ¡æ¶æ„å›¾

```mermaid
graph TB
    Client[å‰ç«¯åº”ç”¨] --> Gateway[APIç½‘å…³]
    Gateway --> Router[AIè·¯ç”±æœåŠ¡]
    
    Router --> CodeGen[ä»£ç ç”ŸæˆæœåŠ¡]
    Router --> CodeAnalysis[ä»£ç åˆ†ææœåŠ¡]
    Router --> TextProcess[æ–‡æœ¬å¤„ç†æœåŠ¡]
    Router --> ChatService[å¯¹è¯æœåŠ¡]
    Router --> ImportService[æ™ºèƒ½å¯¼å…¥æœåŠ¡]
    
    CodeGen --> GeminiAI[Gemini AI]
    CodeAnalysis --> GeminiAI
    TextProcess --> GeminiAI
    ChatService --> GeminiAI
    ImportService --> GeminiAI
    
    Router --> Cache[Redisç¼“å­˜]
    Router --> Queue[æ¶ˆæ¯é˜Ÿåˆ—]
    Router --> Monitor[ç›‘æ§æœåŠ¡]
```

### æŠ€æœ¯æ ˆ

- **AIæ¨¡å‹**: Google Gemini 2.5 Flash
- **APIæ¡†æ¶**: Node.js + Express/Fastify
- **ç¼“å­˜**: Redis
- **æ¶ˆæ¯é˜Ÿåˆ—**: RabbitMQ
- **ç›‘æ§**: Prometheus + Grafana
- **æ—¥å¿—**: Winston + ELK Stack

---

## ğŸ“ AIæ¥å£è¯¦ç»†è®¾è®¡

### 1. ä»£ç ç”Ÿæˆå™¨ (Code Generator)

#### 1.1 åŸºç¡€ä»£ç ç”Ÿæˆ

**æ¥å£åœ°å€**: `POST /api/ai/code/generate`

**åŠŸèƒ½æè¿°**: æ ¹æ®ç”¨æˆ·è¾“å…¥çš„æç¤ºè¯å’Œä¸Šä¸‹æ–‡ç”Ÿæˆä»£ç 

**è¯·æ±‚å‚æ•°**:
```typescript
interface CodeGenerateRequest {
  prompt: string;           // å¿…éœ€ï¼Œç”¨æˆ·è¾“å…¥çš„æç¤ºè¯
  context?: string;         // å¯é€‰ï¼Œé¡¹ç›®ä¸Šä¸‹æ–‡ä¿¡æ¯
  language?: string;        // å¯é€‰ï¼Œç¼–ç¨‹è¯­è¨€ï¼Œé»˜è®¤ï¼štypescript
  framework?: string;       // å¯é€‰ï¼Œæ¡†æ¶åç§°ï¼Œå¦‚ï¼šreact
  style?: string;          // å¯é€‰ï¼Œä»£ç é£æ ¼ï¼Œå¦‚ï¼šclean-modern
  temperature?: number;    // å¯é€‰ï¼Œåˆ›é€ æ€§å‚æ•° 0-1ï¼Œé»˜è®¤ï¼š0.3
  maxLength?: number;      // å¯é€‰ï¼Œæœ€å¤§è¾“å‡ºé•¿åº¦
}
```

**å“åº”æ ¼å¼**:
```typescript
interface CodeGenerateResponse {
  success: boolean;
  data: {
    code: string;          // ç”Ÿæˆçš„ä»£ç 
    explanation?: string;   // ä»£ç è§£é‡Š
    suggestions?: string[]; // æ”¹è¿›å»ºè®®
    confidence: number;     // ç½®ä¿¡åº¦ 0-1
    usage: {
      promptTokens: number;
      completionTokens: number;
      totalTokens: number;
    };
  };
  error?: {
    code: string;
    message: string;
    details?: any;
  };
}
```

**ç¤ºä¾‹è¯·æ±‚**:
```json
{
  "prompt": "åˆ›å»ºä¸€ä¸ªReactç»„ä»¶ï¼ŒåŒ…å«æœç´¢åŠŸèƒ½å’Œä¸‹æ‹‰é€‰æ‹©å™¨",
  "context": "è¿™æ˜¯ä¸€ä¸ªç”µå•†é¡¹ç›®ï¼Œä½¿ç”¨TypeScriptå’ŒTailwind CSS",
  "language": "typescript",
  "framework": "react",
  "temperature": 0.3
}
```

**ç¤ºä¾‹å“åº”**:
```json
{
  "success": true,
  "data": {
    "code": "import React, { useState, useCallback } from 'react';\n\ninterface SearchSelectProps {\n  options: Option[];\n  onSelectionChange: (selected: Option[]) => void;\n  placeholder?: string;\n}\n\n// ... ç»„ä»¶å®ç°",
    "explanation": "è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„æœç´¢é€‰æ‹©å™¨ç»„ä»¶ï¼Œæ”¯æŒå¤šé€‰ã€è¿‡æ»¤å’Œé”®ç›˜å¯¼èˆªã€‚",
    "suggestions": [
      "è€ƒè™‘æ·»åŠ è™šæ‹Ÿæ»šåŠ¨ä»¥ä¼˜åŒ–å¤§é‡æ•°æ®çš„æ€§èƒ½",
      "å¯ä»¥æ·»åŠ è‡ªå®šä¹‰æ¸²æŸ“åŠŸèƒ½ä»¥æ”¯æŒå¤æ‚çš„é€‰é¡¹æ˜¾ç¤º"
    ],
    "confidence": 0.92,
    "usage": {
      "promptTokens": 45,
      "completionTokens": 280,
      "totalTokens": 325
    }
  }
}
```

#### 1.2 åŸºäºæ¨¡æ¿çš„ä»£ç ç”Ÿæˆ

**æ¥å£åœ°å€**: `POST /api/ai/code/generate-from-template`

**åŠŸèƒ½æè¿°**: ä½¿ç”¨é¢„å®šä¹‰çš„æ¨¡æ¿ç”Ÿæˆä»£ç 

**è¯·æ±‚å‚æ•°**:
```typescript
interface TemplateCodeGenerateRequest {
  templateId: string;       // å¿…éœ€ï¼Œæ¨¡æ¿ID
  inputs: Record<string, any>; // å¿…éœ€ï¼Œæ¨¡æ¿å‚æ•°
  customizations?: {        // å¯é€‰ï¼Œè‡ªå®šä¹‰è®¾ç½®
    style?: string;
    framework?: string;
    patterns?: string[];
  };
}
```

---

### 2. ä»£ç åˆ†æå™¨ (Code Analyzer)

#### 2.1 ä»£ç æ•ˆç‡åˆ†æ

**æ¥å£åœ°å€**: `POST /api/ai/code/analyze`

**åŠŸèƒ½æè¿°**: åˆ†æä»£ç è´¨é‡ã€æ€§èƒ½å’Œæœ€ä½³å®è·µ

**è¯·æ±‚å‚æ•°**:
```typescript
interface CodeAnalyzeRequest {
  code: string;             // å¿…éœ€ï¼Œè¦åˆ†æçš„ä»£ç 
  language: string;         // å¿…éœ€ï¼Œç¼–ç¨‹è¯­è¨€
  analysisType?: string[];  // å¯é€‰ï¼Œåˆ†æç±»å‹
  context?: string;         // å¯é€‰ï¼Œé¡¹ç›®ä¸Šä¸‹æ–‡
  includeSuggestions?: boolean; // å¯é€‰ï¼Œæ˜¯å¦åŒ…å«å»ºè®®
}
```

**å“åº”æ ¼å¼**:
```typescript
interface CodeAnalyzeResponse {
  success: boolean;
  data: {
    overallScore: number;   // æ€»ä½“è¯„åˆ† 0-100
    metrics: {
      readability: number;   // å¯è¯»æ€§è¯„åˆ†
      performance: number;   // æ€§èƒ½è¯„åˆ†
      maintainability: number; // å¯ç»´æŠ¤æ€§è¯„åˆ†
      security: number;      // å®‰å…¨æ€§è¯„åˆ†
    };
    issues: Array<{
      type: 'error' | 'warning' | 'info';
      line: number;
      column: number;
      message: string;
      severity: 'high' | 'medium' | 'low';
    }>;
    suggestions: Array<{
      category: string;
      title: string;
      description: string;
      example?: string;
    }>;
    summary: string;         // åˆ†ææ‘˜è¦
  };
}
```

#### 2.2 ä»£ç é‡æ„å»ºè®®

**æ¥å£åœ°å€**: `POST /api/ai/code/refactor-suggestions`

**åŠŸèƒ½æè¿°**: æä¾›ä»£ç é‡æ„å’Œä¼˜åŒ–å»ºè®®

---

### 3. æ–‡æœ¬å¤„ç†æœåŠ¡ (Text Processing Service)

#### 3.1 æ¨¡æ¿è§£æå™¨

**æ¥å£åœ°å€**: `POST /api/ai/text/parse-template`

**åŠŸèƒ½æè¿°**: è§£æç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬ï¼Œæå–ç»“æ„åŒ–æ¨¡æ¿ä¿¡æ¯

**è¯·æ±‚å‚æ•°**:
```typescript
interface ParseTemplateRequest {
  rawText: string;          // å¿…éœ€ï¼ŒåŸå§‹æ–‡æœ¬
  templateType?: string;    // å¯é€‰ï¼Œæ¨¡æ¿ç±»å‹
  extractionRules?: Array<{  // å¯é€‰ï¼Œæå–è§„åˆ™
    field: string;
    pattern: string;
    required: boolean;
  }>;
}
```

**å“åº”æ ¼å¼**:
```typescript
interface ParseTemplateResponse {
  success: boolean;
  data: {
    template: {
      title: string;
      description: string;
      promptContent: string;
      inputFormat: string;
      outputFormat: string;
      techStack: string[];
      supports: string[];
      appType?: string;
    };
    confidence: number;
    extractedFields: Record<string, any>;
    missingFields: string[];
  };
}
```

#### 3.2 åé¦ˆæ‘˜è¦å™¨

**æ¥å£åœ°å€**: `POST /api/ai/text/summarize-feedback`

**åŠŸèƒ½æè¿°**: å°†å¤šæ¡ç”¨æˆ·åé¦ˆæ€»ç»“æˆç®€æ´çš„æ‘˜è¦

**è¯·æ±‚å‚æ•°**:
```typescript
interface SummarizeFeedbackRequest {
  comments: Array<{
    text: string;
    author?: string;
    role?: string;
    timestamp?: number;
  }>;
  summaryType?: 'brief' | 'detailed' | 'actionable';
  focusAreas?: string[];    // å…³æ³¨é¢†åŸŸ
}
```

---

### 4. æ™ºèƒ½å¯¼å…¥æœåŠ¡ (Smart Import Service)

#### 4.1 âš¡ AI Smart Import

**æ¥å£åœ°å€**: `POST /api/ai/import/smart-parse`

**åŠŸèƒ½æè¿°**: æ™ºèƒ½è§£æç²˜è´´çš„æ–‡æœ¬å†…å®¹ï¼Œè‡ªåŠ¨å¡«å……è¡¨å•å­—æ®µ

**è¯·æ±‚å‚æ•°**:
```typescript
interface SmartParseRequest {
  content: string;          // å¿…éœ€ï¼Œç²˜è´´çš„æ–‡æœ¬å†…å®¹
  targetType: 'prompt' | 'template' | 'guide'; // ç›®æ ‡ç±»å‹
  context?: {               // å¯é€‰ï¼Œä¸Šä¸‹æ–‡ä¿¡æ¯
    category?: string;
    role?: string;
    techStack?: string[];
  };
}
```

**å“åº”æ ¼å¼**:
```typescript
interface SmartParseResponse {
  success: boolean;
  data: {
    parsedFields: Record<string, any>; // è§£æå‡ºçš„å­—æ®µ
    suggestedTags: string[];             // å»ºè®®çš„æ ‡ç­¾
    confidence: number;                   // è§£æç½®ä¿¡åº¦
    detectedPatterns: Array<{           // æ£€æµ‹åˆ°çš„æ¨¡å¼
      type: string;
      value: any;
      confidence: number;
    }>;
    remainingText?: string;              // æœªè§£æçš„å‰©ä½™æ–‡æœ¬
  };
}
```

**ç¤ºä¾‹è¯·æ±‚**:
```json
{
  "content": "Reactæ€§èƒ½ä¼˜åŒ–ä¸“å®¶\nè¿™æ˜¯ä¸€ä¸ªç”¨äºä¼˜åŒ–Reactç»„ä»¶æ€§èƒ½çš„æç¤ºè¯æ¨¡æ¿ï¼Œä¸“é—¨è§£å†³é‡æ¸²æŸ“é—®é¢˜ã€‚\n\nä½¿ç”¨åœºæ™¯ï¼šå½“Reactç»„ä»¶å› ä¸ºçŠ¶æ€å˜åŒ–å¯¼è‡´ä¸å¿…è¦çš„é‡æ¸²æŸ“æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ¨¡æ¿æ¥ä¼˜åŒ–æ€§èƒ½ã€‚\n\næŠ€æœ¯æ ˆï¼šReact, TypeScript, Tailwind CSS",
  "targetType": "prompt",
  "context": {
    "category": "Optimization",
    "role": "Frontend Dev"
  }
}
```

**ç¤ºä¾‹å“åº”**:
```json
{
  "success": true,
  "data": {
    "parsedFields": {
      "title": "Reactæ€§èƒ½ä¼˜åŒ–ä¸“å®¶",
      "description": "ç”¨äºä¼˜åŒ–Reactç»„ä»¶æ€§èƒ½ï¼Œè§£å†³é‡æ¸²æŸ“é—®é¢˜",
      "scenario": "å½“Reactç»„ä»¶å› ä¸ºçŠ¶æ€å˜åŒ–å¯¼è‡´ä¸å¿…è¦çš„é‡æ¸²æŸ“æ—¶",
      "content": "Reactæ€§èƒ½ä¼˜åŒ–æç¤ºè¯æ¨¡æ¿å†…å®¹...",
      "techStack": ["React", "TypeScript", "Tailwind CSS"]
    },
    "suggestedTags": ["react", "performance", "optimization", "frontend", "hooks"],
    "confidence": 0.89,
    "detectedPatterns": [
      {
        "type": "tech_stack",
        "value": ["React", "TypeScript", "Tailwind CSS"],
        "confidence": 0.95
      },
      {
        "type": "problem_domain", 
        "value": "performance optimization",
        "confidence": 0.88
      }
    ]
  }
}
```

#### 4.2 ğŸ·ï¸ æ ‡ç­¾ç”Ÿæˆå™¨

**æ¥å£åœ°å€**: `POST /api/ai/import/generate-tags`

**åŠŸèƒ½æè¿°**: åŸºäºå†…å®¹è‡ªåŠ¨ç”Ÿæˆç›¸å…³æ ‡ç­¾

**è¯·æ±‚å‚æ•°**:
```typescript
interface GenerateTagsRequest {
  title: string;            // å¿…éœ€ï¼Œæ ‡é¢˜
  content: string;          // å¿…éœ€ï¼Œå†…å®¹
  existingTags?: string[];   // å¯é€‰ï¼Œå·²å­˜åœ¨æ ‡ç­¾
  maxTags?: number;         // å¯é€‰ï¼Œæœ€å¤§æ ‡ç­¾æ•°ï¼Œé»˜è®¤ï¼š10
  tagType?: 'technology' | 'skill' | 'domain' | 'general';
}
```

**å“åº”æ ¼å¼**:
```typescript
interface GenerateTagsResponse {
  success: boolean;
  data: {
    tags: Array<{
      tag: string;
      relevance: number;     // ç›¸å…³æ€§ 0-1
      category: string;      // æ ‡ç­¾åˆ†ç±»
      confidence: number;    // ç½®ä¿¡åº¦
    }>;
    suggestedCategories: string[];
    keywords: string[];      // æå–çš„å…³é”®è¯
  };
}
```

---

### 5. AIå¯¹è¯æœåŠ¡ (Chat Service)

#### 5.1 å¯¹è¯äº¤äº’

**æ¥å£åœ°å€**: `POST /api/ai/chat`

**åŠŸèƒ½æè¿°**: å¤„ç†ç”¨æˆ·çš„AIåŠ©æ‰‹å¯¹è¯è¯·æ±‚

**è¯·æ±‚å‚æ•°**:
```typescript
interface ChatRequest {
  message: string;           // å¿…éœ€ï¼Œç”¨æˆ·æ¶ˆæ¯
  conversationId?: string;   // å¯é€‰ï¼Œä¼šè¯ID
  context?: {               // å¯é€‰ï¼Œä¸Šä¸‹æ–‡ä¿¡æ¯
    currentProject?: string;
    currentFile?: string;
    selectedCode?: string;
    userRole?: string;
  };
  options?: {
    temperature?: number;
    maxTokens?: number;
    responseFormat?: 'text' | 'markdown' | 'json';
  };
}
```

**å“åº”æ ¼å¼**:
```typescript
interface ChatResponse {
  success: boolean;
  data: {
    response: string;        // AIå“åº”
    conversationId: string;  // ä¼šè¯ID
    messageId: string;      // æ¶ˆæ¯ID
    suggestions?: string[];  // å»ºè®®çš„åç»­é—®é¢˜
    relatedActions?: Array<{ // ç›¸å…³æ“ä½œ
      type: 'code_gen' | 'analyze' | 'search';
      label: string;
      params: any;
    }>;
    usage: {
      promptTokens: number;
      completionTokens: number;
      totalTokens: number;
    };
  };
}
```

---

## ğŸ”„ å·¥ä½œæµAIæ¥å£

### 1. æµç¨‹æ¨¡æ¿AIå¤„ç†

**æ¥å£åœ°å€**: `POST /api/ai/workflow/process-template`

**åŠŸèƒ½æè¿°**: åœ¨å·¥ä½œæµçš„å„ä¸ªé˜¶æ®µè°ƒç”¨AIå¤„ç†

```typescript
interface WorkflowProcessRequest {
  stage: 'requirements' | 'product_planning' | 'architecture' | 'story_creation' | 'development' | 'qa';
  templateId: string;
  inputs: Record<string, any>;
  projectContext: {
    projectName: string;
    techStack: string[];
    userStories: string[];
  };
  options?: {
    language: 'zh' | 'en';
    detailLevel: 'brief' | 'standard' | 'detailed';
  };
}

interface WorkflowProcessResponse {
  success: boolean;
  data: {
    output: string;          // ç”Ÿæˆçš„è¾“å‡ºå†…å®¹
    structuredData?: any;    // ç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚JSONï¼‰
    metadata: {
      processingTime: number;
      confidence: number;
      tokensUsed: number;
    };
    nextSteps?: string[];    // å»ºè®®çš„ä¸‹ä¸€æ­¥
  };
}
```

---

## âš™ï¸ é€šç”¨AIæ¥å£

### 1. å¥åº·æ£€æŸ¥

**æ¥å£åœ°å€**: `GET /api/ai/health`

**å“åº”æ ¼å¼**:
```typescript
interface HealthResponse {
  status: 'healthy' | 'degraded' | 'unhealthy';
  services: {
    gemini: 'connected' | 'disconnected';
    cache: 'connected' | 'disconnected';
    queue: 'connected' | 'disconnected';
  };
  metrics: {
    activeRequests: number;
    averageResponseTime: number;
    errorRate: number;
  };
}
```

### 2. ä½¿ç”¨ç»Ÿè®¡

**æ¥å£åœ°å€**: `GET /api/ai/usage/stats`

**å“åº”æ ¼å¼**:
```typescript
interface UsageStatsResponse {
  success: boolean;
  data: {
    totalRequests: number;
    totalTokens: number;
    breakdown: {
      codeGeneration: number;
      codeAnalysis: number;
      textProcessing: number;
      chat: number;
    };
    popularTemplates: Array<{
      templateId: string;
      usageCount: number;
    }>;
    errorRates: Record<string, number>;
  };
}
```

---

## ğŸš¨ é”™è¯¯å¤„ç†

### é”™è¯¯ç å®šä¹‰

| é”™è¯¯ç  | HTTPçŠ¶æ€ç  | æè¿° | å¤„ç†å»ºè®® |
|--------|-----------|------|----------|
| AI_001 | 400 | è¯·æ±‚å‚æ•°æ— æ•ˆ | æ£€æŸ¥å‚æ•°æ ¼å¼å’Œå¿…éœ€å­—æ®µ |
| AI_002 | 401 | APIå¯†é’¥æ— æ•ˆæˆ–è¿‡æœŸ | åˆ·æ–°APIå¯†é’¥ |
| AI_003 | 403 | é…é¢è¶…é™ | ç­‰å¾…é…é¢é‡ç½®æˆ–å‡çº§å¥—é¤ |
| AI_004 | 429 | è¯·æ±‚é¢‘ç‡è¿‡é«˜ | å®æ–½é€€é¿ç­–ç•¥ |
| AI_005 | 500 | AIæœåŠ¡å†…éƒ¨é”™è¯¯ | é‡è¯•æˆ–è”ç³»æŠ€æœ¯æ”¯æŒ |
| AI_006 | 503 | AIæœåŠ¡ä¸å¯ç”¨ | ç­‰å¾…æœåŠ¡æ¢å¤ |
| AI_007 | 508 | è¯·æ±‚è¶…æ—¶ | é‡è¯•æˆ–å‡å°è¯·æ±‚å¤æ‚åº¦ |

### é”™è¯¯å“åº”æ ¼å¼

```typescript
interface ErrorResponse {
  success: false;
  error: {
    code: string;
    message: string;
    details?: {
      field?: string;
      expected?: any;
      received?: any;
    };
    retryable: boolean;
    retryAfter?: number;  // å»ºè®®é‡è¯•é—´éš”ï¼ˆç§’ï¼‰
  };
}
```

---

## ğŸ” å®‰å…¨ä¸è®¤è¯

### 1. APIå¯†é’¥ç®¡ç†

- **ä¸»å¯†é’¥**: ç”¨äºæœåŠ¡å™¨é—´é€šä¿¡
- **ç”¨æˆ·å¯†é’¥**: åŸºäºç”¨æˆ·èº«ä»½çš„APIå¯†é’¥
- **ä¸´æ—¶å¯†é’¥**: ç”¨äºç‰¹å®šæ“ä½œçš„ä¸´æ—¶è®¿é—®æƒé™

### 2. è¯·æ±‚é™åˆ¶

| é™åˆ¶ç±»å‹ | é»˜è®¤å€¼ | é«˜çº§å¥—é¤ | è¯´æ˜ |
|----------|--------|----------|------|
| æ¯åˆ†é’Ÿè¯·æ±‚æ•° | 60 | 300 | åŸºäºIPå’Œç”¨æˆ· |
| æ¯æ—¥Tokené™åˆ¶ | 100K | 1M | åŒ…æ‹¬è¾“å…¥å’Œè¾“å‡º |
| å•è¯·æ±‚æœ€å¤§Token | 8K | 32K | é˜²æ­¢èµ„æºæ»¥ç”¨ |
| å¹¶å‘è¿æ¥æ•° | 10 | 50 | åŒæ—¶è¿›è¡Œçš„è¯·æ±‚æ•° |

### 3. å†…å®¹å®‰å…¨

- è¾“å…¥å†…å®¹è¿‡æ»¤ï¼šæ¶æ„ä»£ç ã€æ•æ„Ÿä¿¡æ¯æ£€æµ‹
- è¾“å‡ºå†…å®¹å®¡æŸ¥ï¼šç¡®ä¿è¾“å‡ºç¬¦åˆå®‰å…¨æ ‡å‡†
- æ•°æ®åŠ å¯†ï¼šä¼ è¾“å’Œå­˜å‚¨è¿‡ç¨‹ä¸­çš„æ•°æ®ä¿æŠ¤

---

## ğŸ“Š ç›‘æ§ä¸æ—¥å¿—

### 1. å…³é”®æŒ‡æ ‡

- **å“åº”æ—¶é—´**: P50, P95, P99å»¶è¿Ÿ
- **æˆåŠŸç‡**: å„æ¥å£çš„æˆåŠŸç‡ç»Ÿè®¡
- **èµ„æºä½¿ç”¨**: CPUã€å†…å­˜ã€ç½‘ç»œä½¿ç”¨æƒ…å†µ
- **é”™è¯¯åˆ†æ**: é”™è¯¯ç±»å‹å’Œé¢‘ç‡åˆ†æ

### 2. æ—¥å¿—æ ¼å¼

```json
{
  "timestamp": "2024-01-15T10:30:00.000Z",
  "level": "INFO",
  "service": "ai-service",
  "endpoint": "/api/ai/code/generate",
  "method": "POST",
  "requestId": "req_123456789",
  "userId": "user_123",
  "duration": 1250,
  "status": 200,
  "tokensUsed": 325,
  "error": null
}
```

---

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

### 1. ç¼“å­˜ç­–ç•¥

| ç¼“å­˜ç±»å‹ | TTL | ç”¨é€” | é”®æ ¼å¼ |
|----------|-----|------|--------|
| ä»£ç ç”Ÿæˆ | 24h | ç›¸åŒè¯·æ±‚çš„ç»“æœ | `code_gen:{prompt_hash}` |
| ä»£ç åˆ†æ | 12h | ä»£ç åˆ†æç»“æœ | `code_analysis:{code_hash}` |
| æ¨¡æ¿è§£æ | 48h | è§£æç»“æœç¼“å­˜ | `template_parse:{text_hash}` |
| æ ‡ç­¾ç”Ÿæˆ | 72h | æ ‡ç­¾å»ºè®® | `tags:{content_hash}` |

### 2. ä¼˜åŒ–å»ºè®®

- **æ‰¹é‡å¤„ç†**: æ”¯æŒæ‰¹é‡ä»£ç ç”Ÿæˆå’Œåˆ†æ
- **å¼‚æ­¥å¤„ç†**: è€—æ—¶æ“ä½œä½¿ç”¨å¼‚æ­¥æ¨¡å¼
- **æµå¼å“åº”**: é•¿æ–‡æœ¬ç”Ÿæˆä½¿ç”¨æµå¼ä¼ è¾“
- **æ™ºèƒ½è·¯ç”±**: æ ¹æ®è¯·æ±‚ç±»å‹è·¯ç”±åˆ°æœ€é€‚åˆçš„æ¨¡å‹

---

## ğŸ§ª æµ‹è¯•ç”¨ä¾‹

### 1. ä»£ç ç”Ÿæˆæµ‹è¯•

```typescript
// æµ‹è¯•ç”¨ä¾‹1: åŸºç¡€Reactç»„ä»¶ç”Ÿæˆ
const testCase1 = {
  request: {
    prompt: "åˆ›å»ºä¸€ä¸ªæŒ‰é’®ç»„ä»¶",
    language: "typescript",
    framework: "react"
  },
  expected: {
    contains: ["export", "interface", "button"],
    notContains: ["class Component"],
    responseTime: "<3000ms"
  }
};
```

### 2. æ™ºèƒ½å¯¼å…¥æµ‹è¯•

```typescript
// æµ‹è¯•ç”¨ä¾‹2: æ™ºèƒ½å¯¼å…¥åŠŸèƒ½
const testCase2 = {
  request: {
    content: "Reactæ€§èƒ½ä¼˜åŒ–ä¸“å®¶ï¼Œè§£å†³é‡æ¸²æŸ“é—®é¢˜...",
    targetType: "prompt"
  },
  expected: {
    parsedFields: {
      title: "Reactæ€§èƒ½ä¼˜åŒ–ä¸“å®¶",
      description: contains("é‡æ¸²æŸ“")
    },
    suggestedTags: includes("react", "performance")
  }
};
```

---

## ğŸ“š SDKä¸å®¢æˆ·ç«¯åº“

### 1. TypeScript/JavaScript SDK

```typescript
import { NexusAIClient } from '@nexus-ai/sdk';

const client = new NexusAIClient({
  apiKey: process.env.NEXUS_AI_API_KEY,
  baseURL: 'https://api.nexus-ai.com'
});

// ä»£ç ç”Ÿæˆ
const codeResult = await client.code.generate({
  prompt: 'åˆ›å»ºReactç»„ä»¶',
  language: 'typescript'
});

// æ™ºèƒ½å¯¼å…¥
const importResult = await client.import.smartParse({
  content: 'ç²˜è´´çš„å†…å®¹...',
  targetType: 'prompt'
});
```

### 2. Python SDK

```python
from nexus_ai import NexusAIClient

client = NexusAIClient(api_key="your-api-key")

# ä»£ç ç”Ÿæˆ
result = client.code.generate(
    prompt="åˆ›å»ºPythonç±»",
    language="python"
)

# ä»£ç åˆ†æ
analysis = client.code.analyze(
    code="def hello(): pass",
    language="python"
)
```

---

## ğŸ”„ ç‰ˆæœ¬ç®¡ç†

### APIç‰ˆæœ¬ç­–ç•¥

- **v1**: å½“å‰ç¨³å®šç‰ˆæœ¬
- **v2**: å¼€å‘ä¸­ç‰ˆæœ¬ï¼ˆæ–°åŠŸèƒ½ï¼‰
- **v0**: å®éªŒæ€§ç‰ˆæœ¬ï¼ˆæµ‹è¯•åŠŸèƒ½ï¼‰

### ç‰ˆæœ¬å…¼å®¹æ€§

| åŠŸèƒ½ | v0.x | v1.x | v2.x |
|------|------|------|------|
| ä»£ç ç”Ÿæˆ | âœ… | âœ… | âœ… |
| ä»£ç åˆ†æ | âŒ | âœ… | âœ… |
| æ™ºèƒ½å¯¼å…¥ | âŒ | ğŸš§ | âœ… |
| æµå¼å“åº” | âŒ | âŒ | âœ… |

---

## ğŸ“– ä½¿ç”¨ç¤ºä¾‹

### å®Œæ•´çš„å·¥ä½œæµç¤ºä¾‹

```typescript
// 1. ç”¨æˆ·ç²˜è´´å†…å®¹ï¼Œä½¿ç”¨æ™ºèƒ½å¯¼å…¥
const importResult = await fetch('/api/ai/import/smart-parse', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    content: userPastedContent,
    targetType: 'prompt'
  })
});

// 2. åŸºäºè§£æç»“æœç”Ÿæˆæ ‡ç­¾
const tagsResult = await fetch('/api/ai/import/generate-tags', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    title: importResult.data.parsedFields.title,
    content: importResult.data.parsedFields.content
  })
});

// 3. ä¿å­˜å¹¶ç”Ÿæˆä»£ç 
const codeResult = await fetch('/api/ai/code/generate', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    prompt: importResult.data.parsedFields.promptContent,
    context: projectContext
  })
});

// 4. åˆ†æç”Ÿæˆçš„ä»£ç è´¨é‡
const analysisResult = await fetch('/api/ai/code/analyze', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    code: codeResult.data.code,
    language: 'typescript'
  })
});
```

---

## ğŸ¯ å¼€å‘è·¯çº¿å›¾

### Q1 2024 - æ ¸å¿ƒåŠŸèƒ½å®Œå–„
- âœ… åŸºç¡€ä»£ç ç”Ÿæˆ
- âœ… ä»£ç è´¨é‡åˆ†æ
- âœ… æ™ºèƒ½å¯¼å…¥åŠŸèƒ½
- ğŸš§ æµå¼å“åº”æ”¯æŒ

### Q2 2024 - é«˜çº§åŠŸèƒ½
- ğŸ“‹ ä»£ç é‡æ„å»ºè®®
- ğŸ”„ æ‰¹é‡å¤„ç†API
- ğŸ¤– å¤šæ¨¡å‹æ”¯æŒ
- ğŸ“Š é«˜çº§åˆ†æåŠŸèƒ½

### Q3 2024 - ä¼˜åŒ–ä¸æ‰©å±•
- âš¡ æ€§èƒ½ä¼˜åŒ–
- ğŸŒ å¤šè¯­è¨€æ”¯æŒ
- ğŸ”Œ æ’ä»¶ç³»ç»Ÿ
- ğŸ“± ç§»åŠ¨ç«¯é€‚é…

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è”ç³»æ–¹å¼
- **æŠ€æœ¯æ”¯æŒé‚®ç®±**: ai-support@nexus-ai.com
- **APIæ–‡æ¡£**: https://docs.nexus-ai.com/api
- **GitHubä»“åº“**: https://github.com/nexus-ai/api
- **å¼€å‘è€…ç¤¾åŒº**: https://community.nexus-ai.com

### å¸¸è§é—®é¢˜
- [APIå¯†é’¥è·å–æŒ‡å—](https://docs.nexus-ai.com/guides/api-keys)
- [é…é¢å’Œè®¡è´¹è¯´æ˜](https://docs.nexus-ai.com/guides/billing)
- [é”™è¯¯æ’æŸ¥æŒ‡å—](https://docs.nexus-ai.com/guides/troubleshooting)
- [æœ€ä½³å®è·µå»ºè®®](https://docs.nexus-ai.com/guides/best-practices)

---

*æœ€åæ›´æ–°: 2024å¹´1æœˆ15æ—¥*  
*æ–‡æ¡£ç‰ˆæœ¬: v1.2.0*  
*ç»´æŠ¤è€…: Nexus AIæŠ€æœ¯å›¢é˜Ÿ*